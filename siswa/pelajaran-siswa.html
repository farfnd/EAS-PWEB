<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- cdn  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <link rel='stylesheet' href='https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css'>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/assets/css/style.css" >

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>Jadwal Pelajaran - SMA Pagi Sore</title>
</head>
<body>
    <main class="grid grid-cols-12 gap-x-20">
    <!-- sidebar  -->
      <div class="col-span-3 flex flex-col h-screen px-3 py-4 space-y-8 pl-5" style="background: #3E8CFF;">
          <a class="flex items-center space-x-3" href="/">
              <img class="block w-16" src="/assets/img/logo.png" alt="Logo Sekolah">
              <div class="text-white flex flex-col">
                  <span class="text-lg">Siswa</span>
                  <span class="font-bold text-xl">SMA Pagi Sore</span>
              </div>
          </a>
          <ul class="text-white space-y-2 text-lg pl-3">
              <li class="space-x-1"><img class="inline-block" src="/assets/img/jadwal-pelajaran.png" alt=""><span class="inline-block text-white font-bold">Jadwal Pelajaran</span></li>
              <li ><a href="/logout.php" class="space-x-1"><span class="inline-block font-bold text-gray-400 hover:text-white">Logout</span></a></li>
      </div>
    <!-- main content  -->
      <div class="col-span-9 font-semibold mr-10 space-y-2 min-h-screen">
        <!-- header  -->
        <h1 class="text-3xl mt-8">Jadwal Pelajaran Kelas XII A</h1>
        <div class="flex justify-between items-center text-lg ">
            <p class="text-gray-400">Minggu ke-30</p>
            <div class="flex items-center space-x-3 ">
                <span id="nama-siswa">John Doe</span>
                <img id="foto-siswa" class="block rounded-full w-12 h-12" src="/assets/img/foto-john-doe.png" alt="">
            </div>
        </div>
         <!-- Table -->
        <div class="mt-20 bg-red-400 mx-auto bg-white rounded-sm border border-gray-200">
            <div class="p-3">
                <div class="">
                    <table class="table-auto w-full" id="table-mapel">
                        <thead class="text-xs font-semibold uppercase text-gray-400 bg-gray-50">
                            <tr>
                                <th class="p-2 whitespace-nowrap">
                                    <div class="font-semibold text-left">Jam Pelajaran</div>
                                </th>
                                <th class="p-2 whitespace-nowrap">
                                    <div class="font-semibold text-left">Waktu</div>
                                </th>
                                <th class="p-2 whitespace-nowrap">
                                    <div class="font-semibold text-left">Mata Pelajaran</div>
                                </th>
                                <th class="p-2 whitespace-nowrap">
                                    <div class="font-semibold text-left">Guru</div>
                                </th>
                            </tr>
                        </thead>
                        <tbody class="text-sm divide-y divide-gray-100">
                            <tr>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="font-medium text-gray-800">1</div>
                                </td>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="text-left">07.20 - 08.00</div>
                                </td>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="text-left">Bahasa Indonesia</div>
                                </td>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="text-left">Cory Palmer</div>
                                </td>
                            </tr>
                            <tr>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="font-medium text-gray-800">1</div>
                                </td>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="text-left">07.20 - 08.00</div>
                                </td>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="text-left">Bahasa Indonesia</div>
                                </td>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="text-left">Cory Palmer</div>
                                </td>
                            </tr>
                            <tr>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="font-medium text-gray-800">1</div>
                                </td>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="text-left">07.20 - 08.00</div>
                                </td>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="text-left">Bahasa Indonesia</div>
                                </td>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="text-left">Cory Palmer</div>
                                </td>
                            </tr>
                            <tr>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="font-medium text-gray-800">1</div>
                                </td>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="text-left">07.20 - 08.00</div>
                                </td>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="text-left">Bahasa Indonesia</div>
                                </td>
                                <td class="p-2 whitespace-nowrap">
                                    <div class="text-left">Cory Palmer</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
      </div>
  </main>

  <script>
      let nama;
      let increment = () => {
          let num = 0;
          return () => {
            return num += 1;
          }
      }

      let inc1 = increment();
      $.ajax({
          url: '/getName.php',
          method: "GET"
        }).done(response => {
            $("#nama-siswa").html(JSON.parse(response).nama)
            $("#foto-siswa").attr("src", `/assets/img/guru/${JSON.parse(response).foto  }`)
        })

      let table = $('#table-mapel').DataTable({
        ajax: {
            url: '/admin/R_mata_pelajaran.php',
            data: {
              type: "all"
            },
            dataSrc: ''
        },
        "autoWidth": false,
        columns: [
          {   
            data: "id",
            render: function ( data, type, row ) {
                return `
                <div class="text-left">${inc1()}</div>`;
            }
          },
          {   
            data: "jam_mulai",
            render: function ( data, type, row ) {
                return `
                <div class="text-left">${row.jam_mulai}.00 - ${row.jam_selesai}.00</div>`;
            }
          },
          {   
            data: "nama_mapel",
            render: function ( data, type, row ) {
                return `<div class="text-left">${row.nama_mapel}</div>`;
            }
          },
          {   
            data: "kode_guru",
            render: function ( data, type, row ) {
                return `<div class="text-left">${row.kode_guru}</div>`;
            }
          },
        ]
      });
  </script>
</body>
</html>